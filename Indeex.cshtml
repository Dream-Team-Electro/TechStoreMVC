@using TechStoreMVC.Data.Models
@model IEnumerable<Product>

@{
    ViewData["Title"] = "Начало";
    Layout = "_Layout";
}

@section Styles {
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css" />
}

<main class="container py-4">
    <h1 class="mb-4">Добре дошли в TechStore</h1>

    @if (Model != null && Model.Any())
    {
        <div class="product-carousel">
            @foreach (var product in Model)
            {
                <div class="p-2">
                    @await Html.PartialAsync("_ProductCard", product)
                </div>
            }
        </div>
    }
    else
    {
        <div class="col-12">
            <p class="text-muted">Няма налични продукти в момента.</p>
        </div>
    }
</main>

@section Scripts {
    <!-- jQuery и Slick Carousel -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>

    <script>
        $(document).ready(function () {
            $('.product-carousel').slick({
                slidesToShow: 5,
                slidesToScroll: 1,
                arrows: true,
                dots: true,
                responsive: [
                    { breakpoint: 1200, settings: { slidesToShow: 4 } },
                    { breakpoint: 992, settings: { slidesToShow: 3 } },
                    { breakpoint: 768, settings: { slidesToShow: 2 } },
                    { breakpoint: 576, settings: { slidesToShow: 1 } }
                ]
            });
        });
    </script>
}
